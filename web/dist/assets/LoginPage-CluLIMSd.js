import{c as u,r as n,u as h,a as p,j as e,H as g,b as f}from"./index-tHDgc07s.js";import{h as b}from"./alerts-D6uugUBg.js";import{B as j}from"./Button-DTOqL5YY.js";import{E as k}from"./eye-BnNwVA-L.js";import"./confirmAlert-BWqzQj7I.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],y=u("eye-off",w);function L(){const[s,r]=n.useState({identifier:"",password:"",remember:!1}),[o,i]=n.useState(""),[a,c]=n.useState(!1),{setUser:l}=h(),d=p(),m=async()=>{if(!s.identifier||!s.password){i("Email/Username dan password wajib diisi.");return}try{const t=await f.post("/auth/login",s,{withCredentials:!0});l(t.data.user),s.remember?(localStorage.setItem("user",JSON.stringify(t.data.user)),sessionStorage.removeItem("user")):(sessionStorage.setItem("user",JSON.stringify(t.data.user)),localStorage.removeItem("user")),i(""),d("/dashboard")}catch(t){console.error("Login failed:",t?.response?.data||t.message),i("Login gagal. Periksa data login Anda."),b(t,"Login gagal"),r(x=>({...x,password:""}))}};return e.jsxs(e.Fragment,{children:[e.jsx(g,{children:e.jsx("title",{children:"Login - SEMAKIN 6502"})}),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-blue-200 dark:from-zinc-950 dark:via-zinc-900 dark:to-zinc-950 p-4",children:e.jsxs("div",{className:"bg-white/90 dark:bg-zinc-900/90 backdrop-blur-md shadow-xl rounded-2xl ring-1 ring-zinc-200 dark:ring-zinc-800 w-full max-w-md p-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[e.jsx("img",{src:"/logo.png",alt:"Logo SEMAKIN 6502",className:"h-10 w-10 object-contain"}),e.jsx("h1",{className:"text-2xl font-bold text-center text-zinc-800 dark:text-white",children:"SEMAKIN 6502"})]}),e.jsx("p",{className:"text-center text-sm text-zinc-500 dark:text-zinc-400",children:"Masuk untuk melanjutkan"}),e.jsxs("form",{onSubmit:t=>{t.preventDefault(),m()},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"identifier",className:"block text-sm text-zinc-700 dark:text-zinc-300 mb-1",children:"Email atau Username"}),e.jsx("input",{id:"identifier",type:"text",placeholder:"Email atau Username",value:s.identifier??"",onChange:t=>r({...s,identifier:t.target.value}),className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm text-zinc-700 dark:text-zinc-300 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:a?"text":"password",placeholder:"********",value:s.password??"",onChange:t=>r({...s,password:t.target.value}),className:"form-input",required:!0}),e.jsx("button",{type:"button",onClick:()=>c(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-zinc-500 dark:text-zinc-400",title:a?"Sembunyikan":"Lihat Password","aria-label":a?"Sembunyikan":"Lihat Password",children:a?e.jsx(y,{size:20}):e.jsx(k,{size:20})})]})]}),o&&e.jsx("div",{className:"text-red-500 text-sm text-center",children:o}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"inline-flex items-center text-sm text-zinc-700 dark:text-zinc-300",children:[e.jsx("input",{type:"checkbox",className:"form-checkbox mr-2",checked:s.remember,onChange:t=>r({...s,remember:t.target.checked})}),"Ingat Saya"]}),e.jsx(j,{type:"submit",className:"font-semibold",children:"Login"})]})]}),e.jsx("p",{className:"text-xs text-zinc-400 text-center",children:"Â© 2025 Badan Pusat Statistik Kabupaten Bulungan"})]})})]})}export{L as default};
